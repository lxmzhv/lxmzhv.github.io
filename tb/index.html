<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TB Status Dashboard</title>
    <style>
        body { font-family: sans-serif; margin: 2em; background-color: #f4f4f4; color: #333; }
        h1, h2 { color: #1a1a1a; }
        #container { max-width: 95%; margin: auto; background: white; padding: 2em; border-radius: 8px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
        table { width: 100%; border-collapse: collapse; margin-top: 1em; }
        th { border: 1px solid #ddd; padding: 8px; text-align: center; }
        td { border: 1px solid #ddd; padding: 8px; text-align: center; font-weight: bold; }
        th { background-color: #e9e9e9; }
        .phase { margin-bottom: 2em; }
        #file-input {
            margin-bottom: 1em;
            padding: 10px;
            font-size: 1.1em;
            border: 1px solid #ddd;
            border-radius: 4px;
            cursor: pointer;
        }
        .sm-win { background-color: green; color: white; font-weight: bold; }
        .sm-fail { background-color: red; color: white; font-weight: bold; }
        .sm-not-attempted { background-color: transparent; color: black; }
        .waves-group0 { background-color: red; color: white; font-weight: bold; }
        .waves-group1 { background-color: orange; color: black; font-weight: bold; }
        .waves-group2 { background-color: gold; color: black; font-weight: bold; }
        .waves-group3 { background-color: lightgreen; color: black; font-weight: bold; }
        .waves-group4 { background-color: green; color: white; font-weight: bold; }

        /* Sortable table styles */
        th[data-sort] {
            cursor: pointer;
        }
        #dashboard table thead th[data-sort]:hover {
            background-color: #dcdcdc !important;
        }
        .sort-active {
            background-color: #d0e8f2 !important;
        }

        /* Modal Styles */
        .modal { display: none; position: fixed; z-index: 1; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.4); }
        .modal-content { background-color: #fefefe; margin: 15% auto; padding: 20px; border: 1px solid #888; width: 80%; max-width: 400px; border-radius: 8px; position: relative; }
        .close { color: #aaa; position: absolute; top: 10px; right: 20px; font-size: 28px; font-weight: bold; cursor: pointer; }
        .close:hover, .close:focus { color: black; text-decoration: none; }
        .phase-total-cell { cursor: pointer; }
        .phase-total-cell:hover { text-decoration: underline; }

        tr {
            opacity: 80%;
        }

        tr:hover {
            background-color: lightblue !important;
            opacity: 100%;
        }

        /* Highlighting styles */
        .highlight-header {
            background-color: lightblue !important; /* A light blue for headers */
        }
    </style>
</head>
<body>
    <div id="container">
        <h1>Territory Battle Status</h1>
        <p>Upload a TB export JSON file to view the status.</p>
        <input type="file" id="file-input" accept=".json">
        <div>
            <label><input type="checkbox" id="show-gp-checkbox"> GP</label>
            <label><input type="checkbox" id="show-units-checkbox"> Platoons</label>
            <label><input type="checkbox" id="show-score-checkbox"> Scores</label>
            <label><input type="checkbox" id="show-deployed-checkbox"> Deployed</label>
            <label><input type="checkbox" id="show-reva-checkbox"> Reva Special Mission</label>
            <label><input type="checkbox" id="show-waves-checkbox" checked> Waves</label>
        </div>
        <div id="dashboard"></div>
    </div>
    <script src="script.js"></script>
</body>
</html>
